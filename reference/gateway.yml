openapi: 3.0.0
info:
  title: Rhino gateway
  version: '1.0'
  description: test
servers:
  - url: 'http://localhost:6017'
    description: test
  - description: local
    url: 'http://192.168.1.51:6010'
  - url: 'http://192.168.1.21:6014'
    description: test1
paths:
  /funds:
    parameters: []
    get:
      summary: 查询所有基金产品信息
      tags: []
      operationId: QueryFunds
      description: 查询所有基金产品信息
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Fund'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
  /baskets:
    post:
      summary: 创建篮子
      operationId: CreateBasket
      description: 创建篮子
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                fund_code:
                  type: string
                  description: 基金代码
                name:
                  type: string
                owner:
                  type: string
                  description: 所有者
                broker_account_id:
                  type: string
                  description: 券商资金账户
                items:
                  type: array
                  items:
                    $ref: '#/components/schemas/BasketItem'
            examples: {}
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    description: 篮子编号ID
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          description: 基金ID
          required: true
    parameters: []
    get:
      summary: 查询篮子信息
      operationId: QueryBaskets
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Basket'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      description: 查询篮子信息
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          description: 基金ID
          required: true
        - schema:
            type: string
          in: query
          name: owner
          description: 所有者
        - schema:
            type: string
          in: query
          name: id
          description: 篮子编号
  '/baskets/{basket_id}':
    parameters:
      - name: basket_id
        in: path
        required: true
        schema:
          type: string
          example: '340'
        description: 篮子编号
    delete:
      summary: 删除篮子
      operationId: DeleteBasket
      responses:
        '204':
          description: No Content
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      description: 删除篮子
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          required: true
          description: 基金ID
  /orders:
    parameters: []
    get:
      summary: 获取委托信息
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                oneOf:
                  - items:
                      $ref: '#/components/schemas/StockOrder'
                  - items:
                      $ref: '#/components/schemas/FutureOrder'
                type: array
              examples: {}
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      operationId: GetOrders
      description: 获取委托信息
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          description: 基金ID
          required: true
        - schema:
            type: string
          in: query
          name: owner
          description: 所有者
          required: true
        - schema:
            type: string
          in: query
          name: algo_id
          description: 算法ID
    post:
      summary: 申报委托
      operationId: SubmitOrder
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    order_id:
                      type: string
                      description: 委托编号ID
              examples: {}
        '400':
          description: Bad Request
      description: 申报委托
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                fund_code:
                  type: string
                  description: 基金代码
                broker_account_id:
                  type: string
                  description: 券商资金账户
                owner:
                  type: string
                  description: 所有者
                items:
                  oneOf:
                    - items:
                        type: object
                        properties:
                          symbol:
                            type: string
                            description: 证券代码
                          business:
                            type: string
                            description: '业务类别。"1"=普通交易, "2"=信用交易(融资融券), "3"=债券质押式协议回购(Bond Pledge Agreement Repo), "4"=网上发行认购(新股申购)'
                          side:
                            type: string
                            description: '买卖方向。"B"=买入, "S"=卖出, "SS"=融券卖出, "BC"=买券还券, "FB"=融资买入, "SR"=卖券还款'
                          price_type:
                            type: string
                            description: '价格类型。"L"=限价, "N"=最新价, "M"=市价, "A1"=卖1价, "A2"=卖2价, "A3"=卖3价, "A4"=卖4价, "A5"=卖5价, "A6"=卖6价, "A7"=卖7价, "A8"=卖8价, "A9"=卖9价, "A10"=卖10价, "B1"=买1价, "B2"=买2价, "B3"=买3价, "B4"=买4价, "B5"=买5价, "B6"=买6价, "B7"=买7价, "B8"=买8价, "B9"=买9价, "B10"=买10价'
                          price:
                            type: number
                          quantity:
                            description: 数量
                            type: integer
                          remark:
                            type: string
                            description: 备注
                    - items:
                        type: object
                        properties:
                          symbol:
                            type: string
                            description: 证券代码
                          offset:
                            type: string
                            description: 开平标志
                          side:
                            type: string
                            description: 买卖方向
                          hedge:
                            type: string
                            description: 投机套保标志
                          price_type:
                            type: string
                            description: 价格类型
                          price:
                            description: 价格
                            type: number
                          quantity:
                            description: 数量
                            type: integer
                          remark:
                            type: string
                            description: 备注
                  type: array
            examples: {}
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          description: 基金ID
          required: true
  /matches:
    parameters: []
    get:
      summary: 获取成交信息
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                oneOf:
                  - items:
                      $ref: '#/components/schemas/StockMatch'
                  - items:
                      $ref: '#/components/schemas/FutureMatch'
                type: array
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      operationId: GetMatches
      description: 获取成交信息
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          description: 基金ID
          required: true
        - schema:
            type: string
          in: query
          name: owner
          description: 所有者
          required: true
  /cancels:
    parameters: []
    get:
      summary: 获取撤单信息
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                oneOf:
                  - items:
                      $ref: '#/components/schemas/StockCancel'
                  - items:
                      $ref: '#/components/schemas/FutureCancel'
                type: array
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      operationId: GetCancels
      description: 获取撤单信息
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          description: 基金ID
          required: true
        - schema:
            type: string
          in: query
          name: owner
          description: 所有者
          required: true
    post:
      summary: 委托撤单
      operationId: CancelOrder
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    order_id:
                      type: string
                      description: 客户端委托ID
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      description: 撤单
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                fund_code:
                  type: string
                  description: 基金代码
                items:
                  type: array
                  items:
                    type: object
                    properties:
                      order_id:
                        type: string
                        description: 委托编号ID
            examples: {}
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          description: 基金ID
          required: true
  /positions:
    parameters: []
    get:
      summary: 获取持仓信息
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                oneOf:
                  - items:
                      $ref: '#/components/schemas/StockPosition'
                  - items:
                      $ref: '#/components/schemas/FuturePosition'
                type: array
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      operationId: GetPositions
      description: 获取持仓信息
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          description: 基金ID
          required: true
        - schema:
            type: string
          in: query
          name: owner
          description: 所有者
          required: true
  /assets:
    parameters: []
    get:
      summary: 获取资金信息
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: '#/components/schemas/StockAsset'
                  - $ref: '#/components/schemas/FutureAsset'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      operationId: GetAssets
      description: 获取资金信息
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          description: 基金ID
          required: true
        - schema:
            type: string
          in: query
          name: owner
          description: 所有者
  /cash_transfers:
    parameters: []
    get:
      summary: 查询产品资金划转信息
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  allOf:
                    - $ref: '#/components/schemas/CashTransfer'
                    - type: object
                      properties:
                        fund_id:
                          type: string
                          description: 基金ID
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      operationId: QueryCashTransfer
      description: 查询产品资金划转信息
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          description: 基金ID
          required: true
    post:
      summary: 产品资金划转
      operationId: CashTransfer
      responses:
        '204':
          description: No Content
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      description: 资金划转
      requestBody:
        content:
          application/json:
            schema:
              allOf:
                - type: object
                  properties:
                    fund_code:
                      type: string
                - $ref: '#/components/schemas/CashTransfer'
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          description: 基金ID
          required: true
  /position_transfers:
    parameters: []
    get:
      summary: 查询产品持仓划转
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/PositionTransfer'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      operationId: QueryPositionTransfer
      description: 查询产品持仓划转
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          description: 基金ID
          required: true
    post:
      summary: 产品持仓划转
      operationId: PositionTransfer
      responses:
        '204':
          description: No Content
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      description: 产品持仓划转
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                items:
                  type: array
                  items:
                    type: object
                    properties:
                      symbol:
                        type: string
                        description: 股票代码
                      quantity:
                        description: 数量
                        type: integer
                      cost_price:
                        description: 成本价
                        type: number
                      remark:
                        type: string
                        description: 备注
                broker_account_id:
                  type: string
                  description: 券商资金账户
                from_owner:
                  type: string
                  description: 出让方
                to_owner:
                  type: string
                  description: 接受方
            examples: {}
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          description: 基金ID
          required: true
  /algos:
    parameters: []
    get:
      summary: 查询算法
      tags: []
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Algo'
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      operationId: QueryAlgo
      description: 查询算法
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          description: 基金ID
          required: true
    post:
      summary: 创建算法
      operationId: CreateAlgo
      responses:
        '200':
          description: OK
          content:
            application/json:
              schema:
                type: object
                properties:
                  id:
                    type: integer
                    description: 算法ID
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      description: 创建算法
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                fund_code:
                  type: string
                  description: 基金代码
                owner:
                  description: 所有者
                  type: string
                broker_account_id:
                  description: 券商资金账户
                  type: string
                basket_id:
                  type: integer
                  description: 篮子id
                type:
                  type: string
                  description: 算法类型："TWAP"=twap算法
                config:
                  description: ''
                  oneOf:
                    - $ref: '#/components/schemas/Twap'
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          description: 基金ID
          required: true
  '/algos/{algo_id}':
    parameters:
      - name: algo_id
        in: path
        required: true
        schema:
          type: string
        description: 算法编号
    delete:
      summary: 删除算法
      operationId: DeleteAlgo
      responses:
        '204':
          description: No Content
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      description: 删除算法
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          description: 基金ID
          required: true
    patch:
      summary: 修改算法
      operationId: ModifyAlgo
      responses:
        '204':
          description: No Content
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      description: 修改算法
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                fund_code:
                  type: string
                  description: 基金代码
                config:
                  oneOf:
                    - $ref: '#/components/schemas/Twap'
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          description: 基金ID
          required: true
  '/algos/{algo_id}/activate':
    parameters:
      - name: algo_id
        in: path
        required: true
        schema:
          type: string
        description: 算法编号
    post:
      summary: 运行算法
      operationId: RunAlgo
      responses:
        '204':
          description: No Content
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      description: 运行算法
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                fund_code:
                  type: string
                  description: 基金代码
            examples:
              example-1:
                value:
                  id: 0
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          description: 基金ID
          required: true
    delete:
      summary: 停止运行算法
      operationId: StopAlgo
      responses:
        '204':
          description: No Content
        '400':
          description: Bad Request
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Error'
      description: 停止运行算法
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                fund_code:
                  type: string
                  description: 基金代码
                id:
                  type: integer
                  description: 算法ID
      parameters:
        - schema:
            type: string
          in: query
          name: fund_id
          description: 基金ID
          required: true
components:
  schemas:
    Error:
      title: Error
      type: object
      description: ''
      x-examples: {}
      properties:
        code:
          type: integer
          description: 错误编号
          example: -1
        text:
          type: string
    StockOrder:
      title: StockOrder
      type: object
      description: ''
      properties:
        id:
          type: integer
          description: 唯一标识ID
        fund_id:
          type: integer
          description: 基金编号
        fund_code:
          description: 基金代码
          type: string
        owner:
          description: 所有者
          type: string
        trading_day:
          type: string
          description: 交易日
        order_id:
          type: string
          description: 委托编号
        symbol:
          type: string
          description: 证券代码
        business:
          type: string
          description: '业务类别。"1"=普通交易, "2"=信用交易(融资融券), "3"=债券质押式协议回购(Bond Pledge Agreement Repo), "4"=网上发行认购(新股申购)'
        side:
          type: string
          description: '买卖方向。"B"=买入, "S"=卖出, "SS"=融券卖出, "BC"=买券还券, "FB"=融资买入, "SR"=卖券还款'
        price_type:
          type: string
          description: '价格类型。"L"=限价, "N"=最新价, "M"=市价, "A1"=卖1价, "A2"=卖2价, "A3"=卖3价, "A4"=卖4价, "A5"=卖5价, "A6"=卖6价, "A7"=卖7价, "A8"=卖8价, "A9"=卖9价, "A10"=卖10价, "B1"=买1价, "B2"=买2价, "B3"=买3价, "B4"=买4价, "B5"=买5价, "B6"=买6价, "B7"=买7价, "B8"=买8价, "B9"=买9价, "B10"=买10价'
        price:
          description: 委托价格
          type: number
        quantity:
          description: 委托数量
          type: integer
        average_price:
          description: 成交均价
          type: number
        filled_quantity:
          description: 成交数量
          type: integer
        leaves_quantity:
          description: 剩余数量
          type: integer
        frozen_amount:
          description: 冻结金额，仅为挂单市值，不含费用
          type: number
        frozen_stamp_duty:
          description: 冻结的印花税
          type: number
        frozen_transfer_fee:
          description: 冻结的过户费
          type: number
        stamp_duty:
          description: 印花税
          type: number
        commission:
          description: 佣金
          type: number
        transfer_fee:
          description: 过户费
          type: number
        status:
          type: string
          description: '委托状态。"1"=待报, "2"=已报, "3"=待撤, "4"=部分成交, "5"=部成待撤, "6"=部成已撤, "F"=已成, "C"=已撤, "R"=废单'
        done:
          description: // 是否完成（只有当委托状态处于已撤/已成/废单时，才算完成)
          type: boolean
        error_code:
          description: 错误代码
          type: integer
        error_text:
          type: string
          description: 错误文本
        source:
          type: string
          description: 委托来源
        remark:
          type: string
          description: 备注
        accept_time:
          type: string
          description: '本地收到时间 HH:MM:SS.ssssss'
        submit_time:
          type: string
          description: '本地提交到STS时间 HH:MM:SS.ssssss'
        update_time:
          type: string
          description: '更新时间 HH:MM:SS.ssssss'
        extra_info:
          type: string
          description: // 扩展信息
        frozen_commission:
          type: string
        create_time:
          type: string
          description: '数据库中数据创建时间，2006-01-02 15:04:05.999'
        upate_time:
          type: string
          description: '数据库中数据更新时间，2006-01-02 15:04:05.999'
        delete_time:
          type: string
          description: '数据库中数据删除时间，2006-01-02 15:04:05.999'
        cli_order_id:
          type: string
          description: 本地委托编号
        broker_account_id:
          type: string
          description: 经纪账户
        sts_order_id:
          type: string
          description: STS委托编号
        broker_order_id:
          type: string
          description: 柜台委托编号
        sts_recv_time:
          type: string
          description: 'STS收到时间 HH:MM:SS.ssssss'
    StockMatch:
      title: StockMatch
      type: object
      properties:
        id:
          type: integer
          description: 唯一标识ID
        fund_id:
          description: 基金编号
          type: integer
        fund_code:
          type: string
          description: 基金代码
        owner:
          description: 所有者
          type: string
        trading_day:
          type: string
          description: 交易日
        order_id:
          type: string
          description: 委托编号
        symbol:
          type: string
          description: 证券代码
        business:
          type: string
          description: '业务类别。"1"=普通交易, "2"=信用交易(融资融券), "3"=债券质押式协议回购(Bond Pledge Agreement Repo), "4"=网上发行认购(新股申购)'
        side:
          type: string
          description: '买卖方向。"B"=买入, "S"=卖出, "SS"=融券卖出, "BC"=买券还券, "FB"=融资买入, "SR"=卖券还款'
        match_id:
          type: string
          description: 成交编号
        price:
          description: 成交价
          type: number
        quantity:
          description: 成交数量
          type: integer
        match_time:
          type: string
          description: '柜台成交时间 HH:MM:SS.ssssss'
        recv_time:
          type: string
          description: '本地收到时间 HH:MM:SS.ssssss'
        extra_info:
          type: string
          description: 扩展信息
        create_time:
          type: string
          description: '数据库中数据创建时间，2006-01-02 15:04:05.999'
        upate_time:
          type: string
          description: '数据库中数据更新时间，2006-01-02 15:04:05.999'
        delete_time:
          type: string
          description: '数据库中数据删除时间，2006-01-02 15:04:05.999'
        cli_order_id:
          type: string
          description: 本地委托编号
        broker_account_id:
          type: string
          description: 经纪账户
        sts_order_id:
          type: string
          description: STS委托编号
        broker_order_id:
          type: string
          description: 柜台委托编号
        sts_recv_time:
          type: string
          description: 'STS收到时间 HH:MM:SS.ssssss'
    StockCancel:
      title: StockCancel
      type: object
      properties:
        id:
          type: integer
          description: 唯一标识ID
        fund_id:
          description: 基金编号
          type: integer
        fund_code:
          type: string
          description: 基金代码
        broker_account_id:
          type: string
          description: 经纪账户
        owner:
          description: 所有者
          type: string
        trading_day:
          type: string
          description: 交易日
        order_id:
          type: string
          description: 委托编号
        symbol:
          type: string
          description: 证券代码
        business:
          type: string
          description: '业务类别。"1"=普通交易, "2"=信用交易(融资融券), "3"=债券质押式协议回购(Bond Pledge Agreement Repo), "4"=网上发行认购(新股申购)'
        side:
          type: string
          description: '买卖方向。"B"=买入, "S"=卖出, "SS"=融券卖出, "BC"=买券还券, "FB"=融资买入, "SR"=卖券还款'
        cancel_id:
          type: string
          description: 撤单编号
        quantity:
          description: 撤单数量
          type: integer
        error_code:
          type: string
          description: 错误代码
        error_text:
          type: string
          description: 错误文本
        cancel_time:
          type: string
          description: '柜台撤单时间 HH:MM:SS.ssssss'
        recv_time:
          type: string
          description: '本地收到时间 HH:MM:SS.ssssss'
        extra_info:
          type: string
          description: 扩展信息
        create_time:
          type: string
          description: '数据库中数据创建时间，2006-01-02 15:04:05.999'
        update_time:
          type: string
          description: '数据库中数据更新时间，2006-01-02 15:04:05.999'
        delete_time:
          type: string
          description: '数据库中数据删除时间，2006-01-02 15:04:05.999'
        cli_order_id:
          type: string
          description: 本地委托编号
        sts_order_id:
          type: string
          description: STS委托编号
        broker_order_id:
          type: string
          description: 柜台委托编号
        sts_recv_time:
          type: string
          description: 'STS收到时间 HH:MM:SS.ssssss'
    StockPosition:
      title: StockPosition
      type: object
      properties:
        id:
          description: 唯一标识ID
          type: integer
        fund_id:
          description: 基金编号
          type: integer
        fund_code:
          type: string
          description: 基金代码
        owner:
          description: 所有者
          type: string
        trading_day:
          type: string
          description: 交易日
        symbol:
          type: string
          description: 证券代码
        type:
          type: string
          description: 持仓类型。"1"=多头，"2"=空头
        initial:
          description: 初始持仓
          type: integer
        total:
          description: 总持仓
          type: integer
        available:
          description: 可用持仓
          type: integer
        buy_frozen:
          description: 买入冻结
          type: integer
        sell_frozen:
          description: 卖出冻结
          type: integer
        cost_price:
          description: 成本价
          type: number
        extra_info:
          type: string
          description: 扩展信息
        create_time:
          type: string
          description: '数据库中数据创建时间，2006-01-02 15:04:05.999'
        update_time:
          type: string
          description: '数据库中数据更新时间，2006-01-02 15:04:05.999'
        delete_time:
          type: string
          description: '数据库中数据删除时间，2006-01-02 15:04:05.999'
        broker_account_id:
          type: string
          description: 经纪账户
    StockAsset:
      title: StockAsset
      type: object
      properties:
        id:
          type: integer
          description: 唯一标识ID
        fund_id:
          description: 基金编号
          type: integer
        fund_code:
          type: string
          description: 基金代码
        broker_account_id:
          type: string
          description: 券商资金账户
        owner:
          description: 所有者
          type: string
        trading_day:
          type: string
          description: 交易日
        initial_asset:
          description: 期初总资产
          type: number
        initial_cash:
          description: 期初可用
          type: number
        total_asset:
          description: '总资产: 可用资金+冻结资金+持仓市值'
          type: number
        available_cash:
          description: 可用资金
          type: number
        frozen_cash:
          description: 冻结资金
          type: number
        frozen_stamp_duty:
          description: 冻结印花税
          type: number
        frozen_commision:
          description: 冻结的佣金
          type: number
        frozen_transfer_fee:
          description: 冻结的过户费
          type: number
        position_value:
          description: 持仓市值
          type: number
        deposit:
          description: 入金金额
          type: number
        withdraw:
          description: 出金金额
          type: number
        stamp_duty:
          description: 印花税
          type: number
        commision:
          description: 佣金
          type: number
        transfer_fee:
          description: 过户费
          type: number
        close_profit:
          description: 平仓盈亏
          type: number
        position_profit:
          description: 持仓盈亏
          type: number
        create_time:
          type: string
          description: '数据库中数据创建时间，2006-01-02 15:04:05.999'
        update_time:
          type: string
          description: '数据库中数据更新时间，2006-01-02 15:04:05.999'
        delete_time:
          type: string
          description: '数据库中数据删除时间，2006-01-02 15:04:05.999'
    Fund:
      title: Fund
      type: object
      properties:
        id:
          type: integer
        code:
          type: string
        name:
          type: string
        enable:
          type: boolean
        create_time:
          type: string
          description: '数据库中数据创建时间，2006-01-02 15:04:05.999'
        update_time:
          type: string
          description: '数据库中数据更新时间，2006-01-02 15:04:05.999'
        delete_time:
          type: string
          description: '数据库中数据删除时间，2006-01-02 15:04:05.999'
    BrokerAccount:
      title: BrokerAccount
      type: object
      properties:
        id:
          type: integer
          description: 唯一标识ID
        account:
          type: string
          description: 资金账号
        name:
          type: string
          description: 开户名称
        target:
          type: string
          description: '投资标的。"stock"=股票, "future"=期货'
        fund_id:
          type: integer
          description: 基金ID
        fund_code:
          type: string
          description: 协会备案的基金代码
        broker_name:
          type: string
          description: 经纪商名称
        enable:
          type: boolean
          description: 是否启用
        create_time:
          type: string
          description: '数据库中数据创建时间，2006-01-02 15:04:05.999'
        update_time:
          type: string
          description: '数据库中数据更新时间，2006-01-02 15:04:05.999'
        delete_time:
          type: string
          description: '数据库中数据删除时间，2006-01-02 15:04:05.999'
        stock:
          type: object
          properties:
            credit:
              type: boolean
              description: 是否为信用账户
            sse_shareholder_id:
              type: string
              description: 上海股东卡号
            sze_shareholder_id:
              type: string
              description: 深圳股东卡号
            commission_rate:
              type: number
              description: 手续费率
            stamp_duty_rate:
              type: number
              description: 印花税率
            transfer_rate:
              type: number
              description: 过户费率
    CashTransfer:
      title: CashTransfer
      type: object
      properties:
        from_owner:
          description: 出让方
          type: string
        to_owner:
          description: 接受方
          type: string
        amount:
          type: number
          description: 划转金额
        remark:
          type: string
          description: 备注
        broker_account_id:
          type: string
          description: 券商资金账户
    PositionTransfer:
      title: PositionTransfer
      x-examples: {}
      type: object
      properties:
        id:
          type: integer
          description: 唯一标识ID
        broker_account_id:
          type: string
          description: 券商资金账户
        from_owner:
          description: 出让方
          type: string
        to_owner:
          description: 接受方
          type: string
        items:
          type: array
          items:
            type: object
            properties:
              symbol:
                type: string
                description: 股票代码
              quantity:
                type: integer
                description: 数量
              cost_price:
                type: number
                description: 成本价
        remark:
          type: string
          description: 备注
    FutureOrder:
      title: FutureOrder
      type: object
      properties:
        id:
          type: integer
          description: 唯一标识ID
        fund_id:
          type: integer
          description: 基金编号
        fund_code:
          type: string
          description: 基金代码
        owner:
          description: 所有者
          type: string
        trading_day:
          type: string
          description: 交易日
        order_id:
          type: string
          description: 委托编号
        symbol:
          type: string
          description: 证券代码
        offset:
          type: string
          description: 开平标志
        side:
          type: string
          description: 买卖方向
        hedge:
          type: string
          description: 投机套保标志
        price_type:
          type: string
          description: 价格类型
        price:
          type: number
          description: 委托价格
        quantity:
          type: integer
          description: 委托数量
        broker_order_id:
          type: string
          description: 柜台委托编号
        average_price:
          type: number
          description: 成交均价
        filled_quantity:
          type: integer
          description: 成交数量
        leaves_quantity:
          type: integer
          description: 剩余数量
        status:
          type: string
          description: 委托状态
        done:
          type: boolean
          description: 是否完成（只有当委托状态处于已撤/已成/废单时，才算完成)
        error_code:
          type: integer
          description: 错误代码
        error_text:
          type: string
          description: 错误文本
        source:
          type: string
          description: 委托来源
        accept_time:
          type: string
          description: '本地收到时间 HH:MM:SS.ssssss'
        submit_time:
          type: string
          description: '本地提交到STS时间 HH:MM:SS.ssssss'
        create_time:
          type: string
          description: '数据库中数据创建时间，2006-01-02 15:04:05.999'
        update_time:
          type: string
          description: '数据库中数据更新时间，2006-01-02 15:04:05.999'
        delete_time:
          type: string
          description: '数据库中数据删除时间，2006-01-02 15:04:05.999'
        broker_account_id:
          type: string
          description: 经纪账号
        sts_order_id:
          type: string
          description: STS委托编号
        sts_accept_time:
          type: string
          description: 'STS收到时间 HH:MM:SS.ssssss'
        sts_recv_time:
          type: string
          description: 'STS收到时间 HH:MM:SS.ssssss'
        broker_insert_time:
          type: string
          description: '柜台提交时间 HH:MM:SS.ssssss'
        broker_update_time:
          type: string
          description: '柜台更新时间 HH:MM:SS.ssssss'
        sts_submit_time:
          type: string
          description: 'STS提交到柜台时间 HH:MM:SS.ssssss'
    FutureMatch:
      title: FutureMatch
      type: object
      properties:
        id:
          type: integer
          description: 唯一标识ID
        fund_id:
          type: integer
          description: 基金编号
        fund_code:
          type: string
          description: 基金代码
        owner:
          description: 所有者
          type: string
        trading_day:
          type: string
          description: 交易日
        order_id:
          type: string
          description: 委托编号
        symbol:
          type: string
          description: 证券代码
        offset:
          type: string
          description: 开平标志
        side:
          type: string
          description: 买卖方向
        hedge:
          type: string
          description: 投机套保标志
        match_id:
          type: string
          description: 成交编号
        price:
          type: number
          description: 成交价
        quantity:
          type: integer
          description: 成交数量
        match_time:
          type: string
          description: '柜台成交时间 HH:MM:SS.ssssss'
        create_time:
          type: string
          description: '数据库中数据创建时间，2006-01-02 15:04:05.999'
        update_time:
          type: string
          description: '数据库中数据更新时间，2006-01-02 15:04:05.999'
        delete_time:
          type: string
          description: '数据库中数据删除时间，2006-01-02 15:04:05.999'
        cli_order_id:
          type: string
          description: 本地委托编号
        broker_account_id:
          type: string
          description: 经纪账户
        sts_order_id:
          type: string
          description: STS委托编号
        broker_order_id:
          type: string
          description: 柜台委托编号
        sts_recv_time:
          type: string
          description: 'STS收到时间 HH:MM:SS.ssssss'
    FuturePosition:
      title: FuturePosition
      type: object
      properties:
        id:
          type: integer
          description: 唯一标识ID
        fund_id:
          type: integer
          description: 基金编号
        fund_code:
          type: string
          description: 基金代码
        owner:
          description: 所有者
          type: string
        trading_day:
          type: string
          description: 交易日
        symbol:
          type: string
          description: 证券代码
        type:
          type: string
          description: 持仓类型
        hedge:
          type: string
          description: 投机套保类型
        position_date:
          type: string
          description: 持仓日期
        yd_position:
          type: integer
          description: 上日持仓
        position:
          type: integer
          description: 今日持仓
        long_frozen:
          type: integer
          description: 多头冻结
        short_frozen:
          type: integer
          description: 空头冻结
        long_frozen_amount:
          type: number
          description: 开仓冻结金额
        short_frozen_amount:
          type: number
          description: ''
        open_volume:
          type: integer
          description: 开仓量
        close_colume:
          type: integer
          description: 平仓量
        open_amount:
          type: number
          description: 开仓金额
        close_amount:
          type: number
          description: 平仓金额
        position_cost:
          type: number
          description: 持仓成本
        pre_margin:
          type: number
          description: 上次占用的保证金
        use_margin:
          type: number
          description: 占用的保证金
        frozen_margin:
          type: number
          description: 冻结的保证金
        frozen_cash:
          type: number
          description: 冻结的资金
        frozen_commision:
          type: number
          description: 冻结的手续费
        cash_in:
          type: number
          description: 资金差额
        commision:
          type: number
          description: 手续费
        close_profit:
          type: number
          description: 平仓盈亏
        position_profit:
          type: number
          description: 持仓盈亏
        pre_settlement_price:
          type: number
          description: 上次结算价
        settlement_price:
          type: number
          description: 本次结算价
        open_cost:
          type: number
          description: 开仓成本
        exchange_margin:
          type: number
          description: 交易所保证金
        comb_position:
          type: integer
          description: 组合成交形成的持仓
        comb_long_frozen:
          type: integer
          description: 组合多头冻结
        comb_short_frozen:
          type: integer
          description: 组合空头冻结
        close_profit_by_date:
          type: number
          description: 逐日盯市平仓盈亏
        close_profit_by_trade:
          type: number
          description: 逐笔对冲平仓盈亏
        today_position:
          type: integer
          description: 今日持仓
        margin_rate_by_money:
          type: number
          description: 保证金率
        margin_rate_by_volume:
          type: number
          description: 保证金率(按手数)
        strike_frozen:
          type: integer
          description: 执行冻结
        strike_frozen_amount:
          type: number
          description: 执行冻结金额
        abandon_frozen:
          type: integer
          description: 放弃执行冻结
        yd_strike_frozen:
          type: integer
          description: 执行冻结的昨仓
        create_time:
          type: string
          description: '数据库中数据创建时间，2006-01-02 15:04:05.999'
        update_time:
          type: string
          description: '数据库中数据更新时间，2006-01-02 15:04:05.999'
        delete_time:
          type: string
          description: '数据库中数据删除时间，2006-01-02 15:04:05.999'
        broker_account_id:
          type: string
          description: 经纪账户
    FutureAsset:
      title: FutureAsset
      type: object
      properties:
        id:
          type: integer
          description: 唯一标识ID
        fund_id:
          type: integer
          description: 基金编号
        fund_code:
          type: string
          description: 基金代码
        owner:
          description: 所有者
          type: string
        trading_day:
          type: string
          description: 交易日
        pre_mortgage:
          type: number
          description: 上次质押金额
        'pre_credit ':
          type: number
          description: 上次信用额度
        pre_deposit:
          type: number
          description: 上次存款额
        pre_balance:
          type: number
          description: 上次结算准备金
        pre_margin:
          type: number
          description: 上次占用的保证金
        interest_base:
          type: number
          description: 利息基数
        interest:
          type: number
          description: 利息收入
        deposit:
          type: number
          description: 入金金额
        withdraw:
          type: number
          description: 出金金额
        frozen_margin:
          type: number
          description: 冻结的保证金
        frozen_cash:
          type: number
          description: 冻结的资金
        frozen_commission:
          type: number
          description: 冻结的手续费
        curr_margin:
          type: number
          description: 当前保证金总额
        cash_in:
          type: number
          description: 资金差额
        commision:
          type: number
          description: 手续费
        close_profit:
          type: number
          description: 平仓盈亏
        position_profit:
          type: number
          description: 持仓盈亏
        balance:
          type: number
          description: 期货结算准备金
        available:
          type: number
          description: 可用资金
        withdraw_quota:
          type: number
          description: 可取资金
        reserve:
          type: number
          description: 基本准备金
        credit:
          type: number
          description: 信用额度
        mortgage:
          type: number
          description: 质押金额
        exchange_margin:
          type: number
          description: 交易所保证金
        delivery_margin:
          type: number
          description: 投资者交割保证金
        exchange_delivery_margin:
          type: number
          description: 交易所交割保证金
        reserve_balance:
          type: number
          description: 保底期货结算准备金
        create_time:
          type: string
          description: '数据库中数据创建时间，2006-01-02 15:04:05.999'
        update_time:
          type: string
          description: '数据库中数据更新时间，2006-01-02 15:04:05.999'
        delete_time:
          type: string
          description: '数据库中数据删除时间，2006-01-02 15:04:05.999'
        broker_account_id:
          type: string
          description: 经纪账户
    FutureCancel:
      title: FutureCancel
      type: object
      properties:
        id:
          type: integer
          description: 唯一标识ID
        fund_id:
          description: 基金编号
          type: integer
        fund_code:
          type: string
          description: 基金代码
        owner:
          description: 所有者
          type: string
        trading_day:
          type: string
          description: 交易日
        order_id:
          type: string
          description: 委托编号
        symbol:
          type: string
          description: 证券代码
        offset:
          type: string
          description: 开平标志
        hedge:
          type: string
          description: 投机套保标志
        match_id:
          type: string
          description: 撤单编号
        price:
          description: 撤单数量
          type: number
        quantity:
          description: 错误代码
          type: integer
        match_time:
          type: string
          description: 错误文本
        recv_time:
          type: string
          description: '本地收到时间 HH:MM:SS.ssssss'
        side:
          type: string
          description: 买卖方向
        create_time:
          type: string
          description: '数据库中数据创建时间，2006-01-02 15:04:05.999'
        update_time:
          type: string
          description: '数据库中数据更新时间，2006-01-02 15:04:05.999'
        delete_time:
          type: string
          description: '数据库中数据删除时间，2006-01-02 15:04:05.999'
        cli_order_id:
          type: string
          description: 本地委托编号
        broker_account_id:
          type: string
          description: 经纪账号
        sts_order_id:
          type: string
          description: STS委托编号
        broker_order_id:
          type: string
          description: 柜台委托编号
        sts_recv_time:
          type: string
          description: 'STS收到时间 HH:MM:SS.ssssss'
    BasketItem:
      title: BasketItem
      type: object
      properties:
        symbol:
          type: string
          description: 证券代码
        name:
          type: string
          description: 证券名称
        side:
          type: string
          description: '买卖方向。"B"=买入, "S"=卖出, "SS"=融券卖出, "BC"=买券还券, "FB"=融资买入, "SR"=卖券还款'
        business:
          type: string
          description: '业务类别。"1"=普通交易, "2"=信用交易(融资融券), "3"=债券质押式协议回购(Bond Pledge Agreement Repo), "4"=网上发行认购(新股申购)'
        quantity:
          type: integer
          description: 目标数量
    Basket:
      title: Basket
      type: object
      x-examples: {}
      properties:
        id:
          type: integer
          description: 篮子编号
        name:
          type: string
          description: 篮子名称
        fund_id:
          type: integer
          description: 基金ID
        fund_code:
          type: string
          description: 基金代码
        owner:
          type: string
          description: 所有者
        broker_account_id:
          type: string
          description: 券商资金账户
        remark:
          type: string
          description: 备注
        create_time:
          type: string
          description: '数据库中数据创建时间，2006-01-02 15:04:05.999'
        update_time:
          type: string
          description: '数据库中数据更新时间，2006-01-02 15:04:05.999'
        delete_time:
          type: string
          description: '数据库中数据删除时间，2006-01-02 15:04:05.999'
        items:
          type: array
          items:
            $ref: '#/components/schemas/BasketItem'
        state:
          type: object
          properties:
            bought_quantity:
              type: integer
              description: 已经买入数量
            sold_quantity:
              type: number
              description: 已经卖出数量
            bought_amount:
              description: 已买入金额
              type: number
            sold_amount:
              type: number
              description: 已卖出金额
    Algo:
      title: Algo
      type: object
      properties:
        id:
          type: integer
          description: 算法编号
        fund_id:
          type: integer
          description: 基金编号
        owner:
          description: 所有者
          type: string
        broker_account_id:
          description: 券商资金账户
          type: string
        type:
          type: string
          description: 算法类型。"TWAP"=twap算法
        config:
          type: object
        state:
          type: object
        status:
          type: string
          description: 运行中
        remark:
          type: string
          description: 备注
        basket_id:
          type: integer
        create_time:
          type: string
          description: '数据库中数据创建时间，2006-01-02 15:04:05.999'
        update_time:
          type: string
          description: '数据库中数据更新时间，2006-01-02 15:04:05.999'
        delete_time:
          type: string
          description: '数据库中数据删除时间，2006-01-02 15:04:05.999'
    Twap:
      title: Twap
      type: object
      properties:
        balance_ratio:
          description: 平衡比例
          type: number
        buy_price_type:
          type: string
          description: '买入价格类型。"L"=限价, "N"=最新价, "M"=市价, "A1"=卖1价, "A2"=卖2价, "A3"=卖3价, "A4"=卖4价, "A5"=卖5价, "A6"=卖6价, "A7"=卖7价, "A8"=卖8价, "A9"=卖9价, "A10"=卖10价, "B1"=买1价, "B2"=买2价, "B3"=买3价, "B4"=买4价, "B5"=买5价, "B6"=买6价, "B7"=买7价, "B8"=买8价, "B9"=买9价, "B10"=买10价'
        buy_ratio:
          description: 买入比例
          type: number
        sell_price_type:
          type: string
          description: '卖出价格类型。"L"=限价, "N"=最新价, "M"=市价, "A1"=卖1价, "A2"=卖2价, "A3"=卖3价, "A4"=卖4价, "A5"=卖5价, "A6"=卖6价, "A7"=卖7价, "A8"=卖8价, "A9"=卖9价, "A10"=卖10价, "B1"=买1价, "B2"=买2价, "B3"=买3价, "B4"=买4价, "B5"=买5价, "B6"=买6价, "B7"=买7价, "B8"=买8价, "B9"=买9价, "B10"=买10价'
        sell_ratio:
          description: 卖出比例
          type: number
        interval:
          type: integer
          description: 交易间隔。单位为秒
        begin_at:
          type: string
          description: '交易起始时间，格式为HH:MM:SS'
        end_at:
          type: string
          description: '交易结束时间，格式为HH:MM:SS'
  parameters:
    basket_id:
      name: basket_id
      in: path
      required: true
      schema:
        type: string
        example: '340'
      description: 篮子编号
    fund_id:
      name: fund_id
      in: path
      required: true
      schema:
        type: string
        example: '17'
      description: 基金编号
    broker_account_id:
      name: broker_account_id
      in: path
      required: true
      schema:
        type: string
        example: '179913'
      description: 经纪账户
    algo_id:
      name: algo_id
      in: path
      required: true
      schema:
        type: string
      description: 算法编号
    fund_code:
      name: fund_code
      in: query
      required: false
      schema:
        type: string
      description: 基金代码
    broker_name:
      name: broker_name
      in: query
      schema:
        type: string
      description: 经纪商名称
    owner:
      name: owner
      in: query
      required: false
      schema:
        type: string
      description: 所有者
